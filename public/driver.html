<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no">
	<title>Driver</title>
	<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="semantic.min.css">
	<link rel="stylesheet" href="assets/css/style.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.1.8/components/icon.css">
</head>
<body>
	<!--MENU-->
	<div class="ui stackable large menu">
		<div class="logo">
			<a href="index.html"> <img class="logo_accueil" src="logo.svg"/> </a>
		</div>
		<div class="right stackable menu">	
			<div class="item">
				<div class="middle aligned content">
					<a href="404.html" class="ui violet large button boutons_menu">Inscription</a>		
					<a href="404.html" class="ui inverted violet large button boutons_menu">Connexion</a>		
				</div>
			</div>
		</div>
	</div>

	<!-- Formulaire pour ceux qui proposent-->

	<div class="formulaire" id="form_driver" style="padding: 50px;"> 
		<form class="ui stackable form" action="" method="post" id="form_demande_driver">
			<h1 class="ui centered dividing header">JE PROPOSE MES SERVICES</h1>
			<label>Pr&eacute;nom, Nom</label>
			<div class="two fields">
				<div class="field">
					<input type="text" name="first-name" placeholder="Pr&eacute;nom" id="first_name">
				</div>
				<div class="field">
					<input type="text" name="last-name" placeholder="Nom de famille..." id="last_name">
				</div>
			</div>
			<label>Informations de contact</label>			
			<div class="two fields">
				<div class="field">
					<input type="text" placeholder="Email...">
				</div>
				<div class="field">
					<input type="text" placeholder="Ton num&eacute;ro ...">
				</div>
			</div>
			<label>Je suis plutot disponible</label>
			<div class="two fields">
				<div class="field">
					<input type="date" name="first-name" placeholder="Date" id="date">
				</div>
				<div class="field">
					<select class="ui fluid search dropdown" name="distance" id="heure">
						<option value="le matin">Matin</option>
						<option value="l'apres-midi">Apr&egrave;s-midi</option>
						<option value="le soir">Soir</option>
					</select>
				</div>
			</div>

			<label for="">Je suis pret &agrave; faire</label>
			<div class="field">
				<select class="ui fluid search dropdown" name="distance" id="distance">
					<option value="entre 0 et 10 km.">0 &agrave; 10 kilom&egrave;tre</option>
					<option value="entre 10 et 20 km.">10 &agrave; 20 kilom&egrave;tre</option>
					<option value="entre 20 et 30 km.">20 &agrave; 30 kilom&egrave;tre</option>
				</select>
			</div>
			<label for="">Cliquez sur le type  v&eacute;hicule que vous proposez</label>
			<div class="three fields">
				<div class="ui field" id="petit">
					<img class="ui  tiny image petite" src="petit.png" alt="icon_petit"  id="taille_petit" sizee="Petit">
				</div>
				<div class="field" id="moyen">
					<img class="ui tiny image moyen" src="moyen.png" alt="" value="moyen" id="taille" size="Moyen">
				</div>
				<div class="field" id="grand">
					<img class="ui tiny image grand" src="grand.png" alt="" value="grand" id="taille" sizeee="Grand">
				</div>
			</div>
			<button class="ui green button" type="submit">Valider</button>
		</form>
	</div>



	<!-- Annonces de ceux qui proposent -->

	<div class="ui stackable centered grid" id="list_driver" style="display:none;">
		<div class="eight wide column bloc_annonces">

			<div class="ui success message">
				<div class="header">Votre annonce a &eacute;t&eacute; prise en compte !</div>
				<p>Vous serez notifi&eacute; par mail d&egrave;s qu'une personne sera int&eacute;r&eacute;ss&eacute;e.</p>
			</div>

			<h3 class="ui centered dividing header">Les annonces de ceux qui proposent</h3>
			<div class="ui divided items" id ="driver">	
				<div class="item">
					<div class="image">
						<img src="card.jpg">
					</div>
					<div class="content">
						<a class="header">Marie dupuis - 5/5</a>
						<div class="meta">
							<span class="cinema">Posté il y &agrave; 3 jours</span>
						</div>
						<div class="description">
							<div class="ui list">
								<li><strong> Disponibilit&eacute; :</strong> 2016-04-15, le soir.</li>
								<li><strong>Disponible pour faire</strong> : entre 20 et 30 km.</li>
								<lI><strong>Mon v&eacute;hicule est :</strong> Petit.</li>
								</div>
								<div class="extra">
									<div class="ui right floated primary button">Réserver ce driver<i class="right chevron icon"></i></div>
								</div>
							</div>
						</div>
					</div>
					<div class="item">
						<div class="image">
							<img src="card.jpg">
						</div>
						<div class="content">
							<a class="header">Guillaume Dorcel - 5/5</a>
							<div class="meta">
								<span class="cinema">Posté il y &agrave; 1 jour</span>
							</div>
							<div class="description">
								<div class="ui list">
									<li><strong> Disponibilit&eacute; :</strong> 2016-04-18, le matin.</li>
									<li><strong>Disponible pour faire</strong> : entre 0 et 10 km.</li>
									<lI><strong>Mon v&eacute;hicule est :</strong> Grand.</li>
									</div>
									<div class="extra">
										<div class="ui right floated primary button">Réserver ce driver<i class="right chevron icon"></i></div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!--Les annonces de ceux qui recherchent-->

		<div class="ui stackable centered grid" id ="list_livre">
			<div class="eight wide column bloc_annonces">
				<h3 class="ui centered dividing header">Les annonces de recherche</h3>
				<div class="ui divided items">

					<div class="item">
						<div class="image">
							<img src="card.jpg">
						</div>
						<div class="content">
							<a class="header">Gerard Lanvin</a>
							<div class="meta">
								<span class="cinema">Posté il y a deux jours</span>
							</div>
							<div class="description">
								<div class="ui list">
									<li><strong>Date :</strong> 2016-04-09</li>
									<li><strong>D&eacute;part : </strong>37 rue paul jacques 31000 Toulouse</li>
									<li><strong>Arriv&eacute;e</strong> 72 rue jacques paul 31000 Toulouse</li>
									<li><strong>Nombre d'objets : </strong>2 (Un bureau, une chaise)</li>
								</div>
							</div>
							<div class="extra">
								<div class="ui right floated primary button">
									Réserver ce trajet
									<i class="right chevron icon"></i>
								</div>

							</div>
						</div>
					</div>
					<div class="item">
						<div class="image">
							<img src="card.jpg">
						</div>
						<div class="content">
							<a class="header">Gerard Lanvin</a>
							<div class="meta">
								<span class="cinema">Posté il y a deux jours</span>
							</div>
							<div class="description">
								<div class="ui list">
									<li><strong>Date :</strong> 2016-04-09</li>
									<li><strong>D&eacute;part : </strong>37 rue paul jacques 31000 Toulouse</li>
									<li><strong>Arriv&eacute;e</strong> 72 rue jacques paul 31000 Toulouse</li>
									<li><strong>Nombre d'objets : </strong>2 (Un bureau, une chaise)</li>
								</div>
							</div>
							<div class="extra">
								<div class="ui right floated primary button">
									Réserver ce trajet
									<i class="right chevron icon"></i>
								</div>

							</div>
						</div>
					</div>
					<div class="item">
						<div class="image">
							<img src="card.jpg">
						</div>
						<div class="content">
							<a class="header">Gerard Lanvin</a>
							<div class="meta">
								<span class="cinema">Posté il y a deux jours</span>
							</div>
							<div class="description">
								<div class="ui list">
									<li><strong>Date :</strong> 2016-04-09</li>
									<li><strong>D&eacute;part : </strong>37 rue paul jacques 31000 Toulouse</li>
									<li><strong>Arriv&eacute;e</strong> 72 rue jacques paul 31000 Toulouse</li>
									<li><strong>Nombre d'objets : </strong>2 (Un bureau, une chaise)</li>
								</div>
							</div>
							<div class="extra">
								<div class="ui right floated primary button">
									Réserver ce trajet
									<i class="right chevron icon"></i>
								</div>

							</div>
						</div>
					</div>

				</div>
			</div>
		</div>

		<!--footer-->
		<div class="ui vertical footer bottom attached segment fouteur">
			<div class="ui center aligned container bandeau_footer">
				<img src="logo.svg" class="ui centered small image logo_footer">
				<div class="row liste_footer">
					<div class="ui horizontal small divided link list">
						<a class="item" href="#">Mentions légales</a>
						<a class="item" href="#">FAQ</a>
						<a class="item" href="#">Contactez-nous !</a>
						<a class="item" href="#">Privacy Policy</a>
					</div>
				</div>
				<div class="row">
					<div class="ui horizontal small divided link list">
						<a class="ui circular facebook icon button" href="https://www.facebook.com/Tutut-1677656342511349/?fref=ts" target="blank"><i class="facebook icon"></i></a>
						<a class="ui circular twitter icon button" href="https://twitter.com/search?q=tutut&src=typd&lang=fr" target="blank"><i class="twitter icon"></i></a>
					</div>
				</div>
			</div>
		</div>

		<!-- <script src="assets/moment.js"></script> -->
		<script src="jquery.min.js"></script>
		<script src="/socket.io/socket.io.js"></script>
		<script type="text/javascript">
			window.$zopim||(function(d,s){var z=$zopim=function(c){z._.push(c)},$=z.s=
				d.createElement(s),e=d.getElementsByTagName(s)[0];z.set=function(o){z.set.
					_.push(o)};z._=[];z.set._=[];$.async=!0;$.setAttribute("charset","utf-8");
					$.src="//v2.zopim.com/?3oDcsSGvvPyA4IFg9Dd2C7HTSaYOBa62";z.t=+new Date;$.
					type="text/javascript";e.parentNode.insertBefore($,e)})(document,"script");
				</script>
				<script>
					(function($){

			$('#petit').on('click', function(){
				$('.petite').toggleClass('icon_taille_petit');
			});
			$('#moyen').on('click', function(){
				$('.moyen').toggleClass('icon_taille_moyen');
			});
			$('#grand').on('click', function(){
				$('.grand').toggleClass('icon_taille_grand');
			});


						var socket = io();
						var msgtpl = $('#msgtpl').html();
			// var moment = require('moment');
			$('#msgtpl').remove();

			$('#form_demande_driver').submit(function(event){
				event.preventDefault();
				socket.emit('msg_driver',{
					first_named: $('#first_name').val(),
					last_name: $('#last_name').val(),
					heure: $('#heure').val(),
					date: $('#date').val(),
					distance: $('#distance').val(),
					taille: $('#taille_petit').attr('sizee')
				}),
				$('#list_driver').show();
				$('#list_livre').hide();
				$('#form_driver').hide();
			})

			socket.on('msg_driver', function(message){
				console.log('yes');
				// rr = {
				//  	message : message
				//  },
				// Mustache.render(msgtpl, rr)
				$('#driver').prepend('<div class="item"><div class="image"><img src="card.jpg"></div><div class="content"><a class="header">'+  message.first_named + ' ' + message.last_name + ' - '+ '5/5' + '</a><div class="meta"><span class="cinema">Posté a l\'instant</span></div><div class="description"><div class="ui list"><li><strong> Disponibilit&eacute; :</strong> ' + message.date + ', '+ message.heure + '.' + '</li><li><strong>Disponible pour faire</strong> : ' + message.distance + '</li><li><strong>Mon v&eacute;hicule est :</strong>' + message.taille + " " +'</li></div></div><div class="extra"><div class="ui right floated primary button">Réserver ce driver<i class="right chevron icon"></i></div></div></div></div>');
			})
		})(jQuery);
	</script>
	<script src="mustache.js"></script>
</body>
</html>